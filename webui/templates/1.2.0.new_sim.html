{% extends "base.html" %}
{% block title %}New simulation{% endblock %}

<!-- Main color for simulation page: yellow -->
{% block head %}
{{ super() }}
<script id="tailwind-config">
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "primary": "#FAC638",
                    "background-light": "#f6f6f8",
                    "background-dark": "#101322",
                },
                fontFamily: {
                    "display": ["Space Grotesk"]
                },
                borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
            },
        },
    }
</script>
{% endblock %}

<!-- Main content of the simulation page -->
{% block content %}

<div class="flex flex-col gap-3 text-center mb-4">
    <p class="text-slate-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]">Configure a New Simulation</p>
    <p class="text-slate-500 dark:text-[#929bc9] text-lg font-normal leading-normal max-w-2xl mx-auto">
        Choose a model template or provide your own scripts to start your neural network simulation.
    </p>
</div>
<div class="flex flex-col gap-6 w-full max-w-[800px] mx-auto">
    <div
        class="group relative flex flex-col md:flex-row items-center gap-8 p-8 bg-white dark:bg-[#111422] border-2 border-slate-200 dark:border-slate-800 rounded-2xl hover:border-primary transition-all duration-300 shadow-sm overflow-hidden">
        <a href="{{url_for('new_sim_brunel')}}" class="flex flex-1 flex-col gap-4">
            <div class="flex items-center gap-3">
                <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 text-primary">
                    <span class="material-symbols-outlined text-3xl">hub</span>
                </div>
                <h3 class="text-2xl font-bold text-slate-800 dark:text-white">Random balanced network (Brunel model)</h3>
            </div>
            <p class="text-slate-500 dark:text-slate-400 text-base leading-relaxed">
                A recurrently connected network model of excitatory and inhibitory populations implemented with LIF neurons.
            </p>
            <div class="pt-2">
                <button
                    class="flex items-center justify-center px-8 py-3 bg-primary text-slate-900 font-bold rounded-lg hover:brightness-105 transition-all shadow-sm">
                    Configure model
                </button>
            </div>
        </a>
        <a href="{{url_for('new_sim_brunel')}}"
            class="w-48 h-48 relative bg-slate-50 dark:bg-slate-800/50 rounded-xl flex items-center justify-center overflow-hidden border border-slate-100 dark:border-slate-800">

            <img src="{{url_for('static', filename='images/Brunel_network_model.png')}}" alt="Brunel" class="h-31 w-31 object-contain"/>

            <!-- <div class="absolute inset-0 opacity-20">
                <svg class="w-full h-full" viewBox="0 0 100 100">
                    <circle class="text-slate-400" cx="50" cy="50" fill="none" r="40" stroke="currentColor"
                        stroke-width="0.5"></circle>
                </svg>
            </div>
            <div class="relative flex items-center justify-center gap-4">
                <div class="flex flex-col items-center gap-2">
                    <div class="schematic-dot bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"></div>
                    <div class="text-[10px] font-bold text-blue-500 uppercase tracking-tighter">Exc</div>
                </div>
                <div class="w-12 h-px bg-gradient-to-r from-blue-500 via-slate-300 to-red-500"></div>
                <div class="flex flex-col items-center gap-2">
                    <div class="schematic-dot bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]"></div>
                    <div class="text-[10px] font-bold text-red-500 uppercase tracking-tighter">Inh</div>
                </div>
            </div> -->
        </a>
    </div>
    <div
        class="group relative flex flex-col md:flex-row items-center gap-8 p-8 bg-white dark:bg-[#111422] border-2 border-slate-200 dark:border-slate-800 rounded-2xl hover:border-primary transition-all duration-300 shadow-sm overflow-hidden">
        <a href="{{url_for('new_sim_four_area')}}" class="flex flex-1 flex-col gap-4">
            <div class="flex items-center gap-3">
                <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 text-primary">
                    <span class="material-symbols-outlined text-3xl">hub</span>
                </div>
                <h3 class="text-2xl font-bold text-slate-800 dark:text-white">Four-area cortical network model</h3>
            </div>
            <p class="text-slate-500 dark:text-slate-400 text-base leading-relaxed">
                Four coupled cortical areas, each built from the above LIF local circuit and representing frontal, temporal,
                parietal, and occipital cortex.
            </p>
            <div class="pt-2">
                <button
                    class="flex items-center justify-center px-8 py-3 bg-primary text-slate-900 font-bold rounded-lg hover:brightness-105 transition-all shadow-sm">
                    Configure model
                </button>
            </div>
        </a>
        <a href="{{url_for('new_sim_four_area')}}"
            class="w-48 h-48 relative bg-slate-50 dark:bg-slate-800/50 rounded-xl flex items-center justify-center overflow-hidden border border-slate-100 dark:border-slate-800">
            <img src="{{url_for('static', filename='images/four_area_model.png')}}" alt="Four-area network" class="w-full h-full object-contain p-2"/>
        </a>
    </div>
    <div
        class="group relative flex flex-col md:flex-row items-center gap-8 p-8 bg-white dark:bg-[#111422] border-2 border-slate-200 dark:border-slate-800 rounded-2xl hover:border-primary transition-all duration-300 shadow-sm overflow-hidden">
        <a href="{{url_for('new_sim_custom')}}" class="flex flex-1 flex-col gap-4">
            <div class="flex items-center gap-3">
                <div
                    class="flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 text-primary">
                    <span class="material-symbols-outlined text-3xl">terminal</span>
                </div>
                <h3 class="text-2xl font-bold text-slate-800 dark:text-white">Custom simulation scripts</h3>
            </div>
            <p class="text-slate-500 dark:text-slate-400 text-base leading-relaxed">
                Upload your own Python scripts to define and simulate your LIF network model.
            </p>
            <div class="pt-2">
                <button
                    class="flex items-center justify-center px-8 py-3 bg-primary text-slate-900 font-bold rounded-lg hover:brightness-105 transition-all shadow-sm">
                    Upload scripts
                </button>
            </div>
        </a>
        <a href="{{url_for('new_sim_custom')}}" 
            class="w-48 h-48 relative bg-slate-50 dark:bg-slate-800/50 rounded-xl flex items-center justify-center overflow-hidden border border-slate-100 dark:border-slate-800">
            <div class="text-slate-400 group-hover:text-primary dark:text-slate-100 font-mono text-xs absolute top-4 left-4 select-none">
                def network():<br />  nest.Create(...)
            </div>
            <div class="relative flex flex-col items-center">
                <svg viewBox="0 0 150 100" width="150" height="100" xmlns="http://www.w3.org/2000/svg" class="w-40 h-40 text-slate-400 group-hover:text-primary" fill="currentColor">
                    <path
                        d="M30 40 C25 35, 15 30, 10 35 S15 45, 20 50 C18 55, 10 65, 15 75 S25 68, 30 65 C35 70, 45 75, 50 70 S45 60, 40 55 C42 50, 45 45, 40 40 Z"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="30" cy="50" r="3" fill="currentColor" />

                    <path
                        d="M120 40 C115 35, 105 30, 100 35 S105 45, 110 50 C108 55, 100 65, 105 75 S115 68, 120 65 C125 70, 135 75, 140 70 S135 60, 130 55 C132 50, 135 45, 130 40 Z"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="120" cy="50" r="3" fill="currentColor" />

                    <path d="M50 50 Q75 40, 100 50" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="4 2"
                        stroke-linecap="round" />
                </svg>
            </div>
        </a>
    </div>
</div>

<!-- Action buttons -->
<div class="mt-auto pt-6 flex flex-wrap gap-4 border-t border-slate-200 dark:border-slate-800">
    <a
        href="{{url_for('dashboard')}}" class="flex items-center gap-2 h-12 px-6 rounded-lg bg-white dark:bg-slate-900 text-slate-800 dark:text-white text-sm font-bold border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
        <span class="material-symbols-outlined text-lg">dashboard</span>
        Back to the dashboard
    </a>
    <a
        href="{{url_for('simulation')}}" class="flex items-center gap-2 h-12 px-6 rounded-lg bg-white dark:bg-slate-900 text-slate-800 dark:text-white text-sm font-bold border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
        <span class="material-symbols-outlined text-lg">arrow_back</span>
        Back to simulation options
    </a>
</div>

{% endblock %}
